# H2 file-based production profile
utility.database.type=h2

# H2 specific settings (use DB_CLOSE_DELAY=-1 for stability on modern H2)
h2.datasource.url=jdbc:h2:file:./data/utilitydb;DB_CLOSE_DELAY=-1
h2.datasource.username=sa
h2.datasource.password=
h2.datasource.driver-class-name=org.h2.Driver

# JPA/Hibernate settings for H2
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.h2.console.enabled=false

# JWT Configuration
app.jwt.secret=yourSecretKeyHereMustBeAtLeast32CharactersLong
app.jwt.expiration=86400000

# File uploads (served from persistent disk)
file.upload.dir=./data/uploads

# Multipart upload limits for prod-h2
spring.servlet.multipart.max-file-size=2MB
spring.servlet.multipart.max-request-size=2MB

# HTTP response compression to reduce payload sizes over the network
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,text/css,application/javascript,application/x-javascript
server.compression.min-response-size=1024

# HikariCP (connection pool) tuning â€“ safe defaults
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.connection-timeout=30000

# Spring Cache (Caffeine)
spring.cache.type=caffeine
# Caffeine spec: max 1000 entries, expire 60s after write, record statistics
spring.cache.caffeine.spec=maximumSize=1000,expireAfterWrite=60s,recordStats
